import numpy as np
from preprocessing import bitnet, malvecnet
import tqdm as tqdm

x_data = np.load(f'../splits/all_shuffled_train_filenames.npy')

print('(1/3) Process data for MalVecNet:')
with tqdm(total=len(x_data)) as progress_bar:
    for x in x_data:
        malvecnet.preprocess(x,origin_folder='../data/BIG2015/train',dest_folder='../data/malvecnet')
        progress_bar.update(1)

print('(2/3) Process data for BitNet:')
with tqdm(total=len(x_data)) as progress_bar:
    for x in x_data:
        bitnet.preprocess(x,origin_folder='../data/BIG2015/train',dest_folder='../data/bitnet')
        progress_bar.update(1)

print('(3/3) Process data for VisNet:')
print('TODO: Not implemented')
with tqdm(total=len(x_data)) as progress_bar:
    for x in x_data:
        #bitnet.preprocess(x,origin_folder='../data/BIG2015/train',dest_folder='../data/bitnet')
        progress_bar.update(1)